<Window x:Class="GrammarFixer.AddPersonaDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Add Custom Persona"
        Height="450"
        Width="500"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner">
    <Border CornerRadius="12" Background="#14141E" BorderBrush="#3C3C50" BorderThickness="1" MouseLeftButtonDown="Window_MouseLeftButtonDown">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="50"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Border Grid.Row="0" Background="#1E1E2D" CornerRadius="12,12,0,0">
                <Grid>
                    <TextBlock Text="Add Custom Persona" 
                               Foreground="White" 
                               FontSize="16" 
                               FontWeight="SemiBold"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center"/>
                </Grid>
            </Border>

            <StackPanel Grid.Row="1" Margin="25" VerticalAlignment="Top">
                <TextBlock Text="Persona Name:" Foreground="#B4B4BE" FontSize="12" Margin="0,0,0,8"/>
                <Grid Margin="0,0,0,15">
                    <TextBlock Text="e.g. 1920s Gangster" 
                               Foreground="#505060" 
                               VerticalAlignment="Center" 
                               Margin="10,0,0,0" 
                               IsHitTestVisible="False"
                               Tag="Placeholder"/>
                    <TextBox x:Name="NameBox"
                             Height="40"
                             Style="{StaticResource ModernTextBox}"
                             TextChanged="InputBox_TextChanged"
                             Background="Transparent"/>
                </Grid>

                <TextBlock Text="Short Description (UI only):" Foreground="#B4B4BE" FontSize="12" Margin="0,0,0,8"/>
                <Grid Margin="0,0,0,15">
                    <TextBlock Text="e.g. Fixes grammar like a wise guy (max 50 chars)" 
                               Foreground="#505060" 
                               VerticalAlignment="Center" 
                               Margin="10,0,0,0" 
                               IsHitTestVisible="False"
                               Tag="Placeholder"/>
                    <TextBox x:Name="DescriptionBox"
                             Height="40"
                             Style="{StaticResource ModernTextBox}"
                             TextChanged="InputBox_TextChanged"
                             Background="Transparent"/>
                </Grid>

                <TextBlock Text="AI Instruction (How it should act):" Foreground="#B4B4BE" FontSize="12" Margin="0,0,0,8"/>
                <Grid>
                    <TextBlock Text="e.g. 'while making it sound like a 1920s gangster' or 'using strict formal tone'. Starts with 'while...' or 'using...'" 
                               Foreground="#505060" 
                               Margin="10,10,10,0" 
                               IsHitTestVisible="False"
                               TextWrapping="Wrap"
                               Tag="Placeholder"/>
                    <TextBox x:Name="InstructionBox"
                             Height="100"
                             TextWrapping="Wrap"
                             AcceptsReturn="True"
                             Style="{StaticResource ModernTextBox}"
                             VerticalContentAlignment="Top"
                             TextChanged="InputBox_TextChanged"
                             Background="Transparent"/>
                </Grid>
            </StackPanel>

            <Border Grid.Row="2" Background="#1E1E2D" CornerRadius="0,0,12,12" Padding="25">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="Add"
                            x:Name="AddButton"
                            Click="AddButton_Click"
                            IsDefault="True"
                            Style="{StaticResource ModernButton}"
                            Width="100"
                            Height="40"
                            Margin="0,0,10,0"/>
                    <Button Content="Cancel"
                            IsCancel="True"
                            Style="{StaticResource ModernButton}"
                            Background="#2D2D42"
                            Width="100"
                            Height="40"/>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>
